import{f as j,c as n,a as E,t as I,i as o,d as s}from"./index-3ff5CIu3.js";import{g as J,G as h}from"./api-C2kMzMAA.js";import{G as x}from"./GameInput-Bs2cW3eW.js";var k=I('<div class="min-h-screen bg-cover bg-[url(/img/46840.jpg)] flex items-center justify-center p-4"><div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full"><h1 class="text-4xl font-bold text-center mb-2 text-gray-800">Imposter ðŸ¥¸</h1><p class="text-center text-gray-500 mb-8 text-sm">Hell yeah</p><div class="flex items-center gap-3 mb-6"><div class="flex-1 h-px bg-gray-300"></div><span class="text-gray-500 text-sm">or</span><div class="flex-1 h-px bg-gray-300"></div></div><div class=space-y-3><h2 class=text-center>Join Lobby</h2><div class="flex space-x-2">');function N(){const[t,v]=j(),[l,C]=n(""),[$,r]=n(""),[d,b]=n(!1),[g,m]=n(!1),u=E(),f=J();async function w(){b(!0);try{const e=await fetch(`${f}/api/v1/lobbies`,{method:"POST"});if(!e.ok){console.error("Failed to create lobby");return}const a=await e.json();console.log("Lobby created with code:",a.code),u(`/lobby/${a.code}`)}catch(e){console.error("Error creating lobby:",e)}finally{b(!1)}}async function _(){if(r(""),!l().trim()){r("Please enter your name");return}if(!t.code?.trim()){r("Please enter a lobby code");return}m(!0);try{if(!(await fetch(`${f}/api/v1/lobbies/${t.code.toLowerCase()}`)).ok){r("Lobby code not found. Please check and try again.");return}console.log("Joining lobby:",t.code),u(`/join/${t.code.toLowerCase()}?name=${encodeURIComponent(l())}`)}catch(e){console.error("Error joining lobby:",e),r("Error joining lobby. Please try again.")}finally{m(!1)}}return(()=>{var e=k(),a=e.firstChild,L=a.firstChild,P=L.nextSibling,p=P.nextSibling,y=p.nextSibling,S=y.firstChild,i=S.nextSibling;return o(a,s(h,{onClick:w,get disabled(){return d()},class:"w-full mb-6",get children(){return d()?"Creating...":"Create Lobby"}}),p),o(y,s(x,{get value(){return l()},onInput:c=>C(c),label:"Name",placeholder:"Enter name"}),i),o(i,s(x,{get value(){return t.code||""},onInput:c=>v({code:c.toUpperCase()}),placeholder:"Enter code",get error(){return $()},maxlength:4,class:"flex-2"}),null),o(i,s(h,{class:"w-[40%]",onClick:_,variant:"secondary",get disabled(){return g()},get children(){return g()?"Joining...":"Join"}}),null),e})()}export{N as default};
