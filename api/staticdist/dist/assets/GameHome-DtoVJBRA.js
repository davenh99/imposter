import{c as n,a as w,t as $,i as a,d as s}from"./index-2AqZPfgG.js";import{G as f}from"./GameButton-D9sBQ2HM.js";import{G as L}from"./GameInput-9T7UXaTW.js";var _=$('<div class="min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center p-4"><div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full"><h1 class="text-4xl font-bold text-center mb-2 text-gray-800">Imposter</h1><p class="text-center text-gray-500 mb-8 text-sm">Play the word guessing game</p><div class="flex items-center gap-3 mb-6"><div class="flex-1 h-px bg-gray-300"></div><span class="text-gray-500 text-sm">or</span><div class="flex-1 h-px bg-gray-300"></div></div><div class=space-y-3>');function J(){const[t,m]=n(""),[y,o]=n(""),[l,i]=n(!1),[c,b]=n(!1),d=w();async function p(){i(!0);try{const e=await fetch("/api/v1/lobbies",{method:"POST"});if(!e.ok){console.error("Failed to create lobby");return}const r=await e.json();console.log("Lobby created with code:",r.code),d(`/lobby/${r.code}`)}catch(e){console.error("Error creating lobby:",e)}finally{i(!1)}}async function x(){if(o(""),!t().trim()){o("Please enter a lobby code");return}b(!0);try{if(!(await fetch(`/api/v1/lobbies/${t().toLowerCase()}`)).ok){o("Lobby code not found. Please check and try again.");return}console.log("Joining lobby:",t()),d(`/join/${t().toLowerCase()}`)}catch(e){console.error("Error joining lobby:",e),o("Error joining lobby. Please try again.")}finally{b(!1)}}return(()=>{var e=_(),r=e.firstChild,h=r.firstChild,v=h.nextSibling,g=v.nextSibling,u=g.nextSibling;return a(r,s(f,{onClick:p,get disabled(){return l()},class:"w-full mb-6",get children(){return l()?"Creating...":"Create Lobby"}}),g),a(u,s(L,{get value(){return t()},onInput:C=>m(C.toUpperCase()),label:"Join Lobby",placeholder:"Enter code",get error(){return y()},maxlength:6}),null),a(u,s(f,{onClick:x,variant:"secondary",get disabled(){return c()},class:"w-full",get children(){return c()?"Joining...":"Join"}}),null),e})()}export{J as default};
