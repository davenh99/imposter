import{f as S,c as n,a as E,t as I,i as o,d as s}from"./index-BrT1OQ6d.js";import{G as y}from"./GameButton-DHFUTSvU.js";import{G as h}from"./GameInput-QJMGJpQX.js";var j=I('<div class="min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center p-4"><div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full"><h1 class="text-4xl font-bold text-center mb-2 text-gray-800">Imposter</h1><p class="text-center text-gray-500 mb-8 text-sm">Play the word guessing game</p><div class="flex items-center gap-3 mb-6"><div class="flex-1 h-px bg-gray-300"></div><span class="text-gray-500 text-sm">or</span><div class="flex-1 h-px bg-gray-300"></div></div><div class=space-y-3><h2 class=text-center>Join Lobby</h2><div class="flex space-x-2">');function U(){const[t,x]=S(),[l,v]=n(""),[C,r]=n(""),[d,b]=n(!1),[g,m]=n(!1),u=E();async function w(){b(!0);try{const e=await fetch("/api/v1/lobbies",{method:"POST"});if(!e.ok){console.error("Failed to create lobby");return}const a=await e.json();console.log("Lobby created with code:",a.code),u(`/lobby/${a.code}`)}catch(e){console.error("Error creating lobby:",e)}finally{b(!1)}}async function $(){if(r(""),!l().trim()){r("Please enter your name");return}if(!t.code?.trim()){r("Please enter a lobby code");return}m(!0);try{if(!(await fetch(`/api/v1/lobbies/${t.code.toLowerCase()}`)).ok){r("Lobby code not found. Please check and try again.");return}console.log("Joining lobby:",t.code),u(`/join/${t.code.toLowerCase()}?name=${encodeURIComponent(l())}`)}catch(e){console.error("Error joining lobby:",e),r("Error joining lobby. Please try again.")}finally{m(!1)}}return(()=>{var e=j(),a=e.firstChild,P=a.firstChild,_=P.nextSibling,f=_.nextSibling,p=f.nextSibling,L=p.firstChild,i=L.nextSibling;return o(a,s(y,{onClick:w,get disabled(){return d()},class:"w-full mb-6",get children(){return d()?"Creating...":"Create Lobby"}}),f),o(p,s(h,{get value(){return l()},onInput:c=>v(c.toUpperCase()),label:"Name",placeholder:"Enter name"}),i),o(i,s(h,{get value(){return t.code||""},onInput:c=>x({code:c.toUpperCase()}),placeholder:"Enter code",get error(){return C()},maxlength:6,class:"flex-2"}),null),o(i,s(y,{class:"w-[40%]",onClick:$,variant:"secondary",get disabled(){return g()},get children(){return g()?"Joining...":"Join"}}),null),e})()}export{U as default};
